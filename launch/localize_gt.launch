<launch>
    <param name="use_sim_time" value="true"/>

    <!-- Bag file args -->
    <arg name="bag_name" default="multi_radar_fov30_2.bag"/>
    <arg name="bag_file" default="$(find radar_experiments)/bags/$(arg bag_name)"/>
    <arg name="rate" default="1.0"/>
    <arg name="stats_file" default="$(find radar_experiments)/stats/stats_gt.txt"/>

    <include file="$(find radar_experiments)/launch/make_aruco_map.launch">
        <arg name="bag_file" value="$(arg bag_file)"/>
        <arg name="rate" value="$(arg rate)"/>
        <arg name="use_bag_tf" value="false"/>
        <arg name="read_only_map" value="true"/>
        <arg name="use_mcl_localization" value="false"/>
        <arg name="aloam_odom" value="false"/>
    </include>

    <!-- For statistics-->
    <node name="gather" pkg="gather_data" type="gather_pose.py">
        <param name="filename" value="$(arg stats_file)"/>
        <remap from="pose" to="/fiducial_pose"/>
    </node>
    
</launch>
